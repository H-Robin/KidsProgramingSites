<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Programming Games Launcher</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&family=M+PLUS+Rounded+1c:wght@700&family=Poppins:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: system-ui, sans-serif; margin: 0; background:#0f172a; color:#e2e8f0; }
    .grid { display:grid; gap:16px; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); padding: 16px; }
    .card { background:#000000; border:1px solid #334155; border-radius:16px; padding:16px; }
  </style>
</head>
<body>
  <header>HamaKidsQuest</header>
    <section class="grid">
      <article class="card">
        <div class="card-hero">
          <div class="card-text">
            <h3>Space Program Kids(スペースプログラムキッズ）</h3>
            <p>命令コマンドを並べてロボットを動かし、ゴールへ向かわせてください。</p>
            <p>順次処理 → 繰り返し処理を学ぶミッションクリア型のプログラミング学習ゲームです。</p>
            <p>ミッションは、今後どんどん追加していきます。</p>
            <a class="btn" href="./games/hama-kids-quest/html/hkq-map.html">プレイ</a>
          </div>
          <div class="card-image">
            <img src="./games/hama-kids-quest/assets/cutscene/game-title.png" alt="ゲームイメージ">
          </div>
        </div>
      </article>
    </section>
    <!-- ▼ Safari用ブロックオーバーレイ（修正版） -->
    <div id="safari-block" style="display:none; position:fixed; inset:0;
        background:#0b1020; color:#fff; z-index:99999; 
        align-items:center; justify-content:center;">
      <div style="max-width:680px; padding:24px; background:#111a33; border-radius:16px; text-align:center;">
        <h2>Safari は現在サポートしていません</h2>
        <p>Google Chrome または Microsoft Edge でご利用ください。</p>
        <p>
          <a href="https://www.google.com/chrome/" style="color:#9bd1ff;">Chrome を入手</a> ／
          <a href="https://www.microsoft.com/edge" style="color:#9bd1ff;">Edge を入手</a>
        </p>
      </div>
    </div>

    <script>
    (function() {
      var ua = navigator.userAgent;
      // デスクトップ系Safari判定（iOS版Chrome/Firefox/EdgeのUAトークンも除外）
      var isSafari = /Safari/.test(ua) && !/(Chrome|Chromium|Edg|OPR|Brave|CriOS|FxiOS|EdgiOS)/.test(ua);
      // iOS版の各種Safari（Chrome/FirefoxのiOS版はUAに CriOS/FxiOS/EdgiOS が入る）
      var isIOSSafari = /iP(hone|ad|od)/.test(ua) && /Safari/.test(ua) && !/(CriOS|FxiOS|EdgiOS)/.test(ua);

      if (isSafari || isIOSSafari) {
        var el = document.getElementById('safari-block');
        el.style.display = 'flex'; // ここで初めて表示にする
        document.body.classList.add('ui-locked'); // 必要なら操作ロック
      }
    })();
    </script>
    <!-- ▲ Safari用ブロックオーバーレイ -->
</body>
</html>